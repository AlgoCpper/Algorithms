lis와 유사한 문제라 dp 문제인 것은 알았으나 점화식을 찾기는 어려웠다.   
i번 원소를 기준으로 왼쪽에 있는 수들의 lis의 길이와 오른쪽에 있는 수들의 lds의 길이를 구한다.   
1 5 2 1 4 3 4 5 2 1에서 i = 7일 때 { 1 2 3 4 5 }, { 5 2 1 }가 되고 7이 중복되므로 빼주어야 { 1 2 3 4 5 2 1 }이 된다.   
따라서 각 인덱스 별 lis의 길이 + lds 길이의 - 1의 최댓값을 구하면 된다.